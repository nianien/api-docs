"use strict";(globalThis.webpackChunkapi_docs_portal=globalThis.webpackChunkapi_docs_portal||[]).push([[803],{4509:e=>{e.exports=JSON.parse('{"url":"redocusaurus/trading-history.yaml","themeId":"theme-redoc","isSpecFile":true,"normalizeUrl":true,"spec":{"openapi":"3.0.1","info":{"title":"IB Portal Open API","description":"Open API for querying referral code accounts, trading history, and rebate history","version":"1.0.0"},"servers":[{"url":"https://gateway.zeromarketsapi.com"}],"tags":[{"name":"Referral","description":"Manage referral code level entities."},{"name":"Trading","description":"Query MT4/MT5 trading activities and rebates."}],"security":[{"ApiKeyAuth":[]}],"paths":{"/v1/listReferralCodeAccount":{"get":{"summary":"Query account list by referral code","description":"Returns trading accounts mapped to the provided referral codes.","operationId":"getReferralCodeAccounts","tags":["Referral"],"parameters":[{"name":"referralCodes","in":"query","required":true,"schema":{"type":"array","items":{"type":"integer","format":"int64"}},"description":"Comma-separated referral codes. Maximum 20 per call.","example":"10001,10002"},{"name":"includeSubIB","in":"query","required":false,"schema":{"type":"boolean","default":false},"description":"Include sub-IB accounts when true."}],"responses":{"200":{"description":"Successfully returns the list of accounts","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_List_TradeUserCache"},"examples":{"success":{"$ref":"#/components/examples/ReferralAccountsResponse"}}}}},"400":{"description":"Missing referral codes or invalid format.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"},"examples":{"invalidInput":{"value":{"code":40001,"message":"referralCodes cannot be empty"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"},"examples":{"unauthorized":{"$ref":"#/components/examples/UnauthorizedError"}}}}}},"x-codeSamples":[{"lang":"bash","label":"Fetch referral accounts","source":"curl --request GET \\\\\\n  --url \'https://gateway.zeromarketsapi.com/v1/listReferralCodeAccount?referralCodes=10001,10002&includeSubIB=true\' \\\\\\n  --header \'Authorization: Bearer <token>\'\\n"}]}},"/v1/listTradingHistory":{"post":{"summary":"Query trading history by account list","description":"Returns paginated MT4/MT5 trades for the specified accounts.","tags":["Trading"],"operationId":"getTradingHistory","requestBody":{"required":true,"description":"Provide the account list and filters. When no date range is supplied,\\nthe last three months are queried automatically.\\n","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TradingRequest"},"examples":{"request":{"$ref":"#/components/examples/TradingRequestExample"}}}}},"responses":{"200":{"description":"Successfully returns the paged trading history data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_PageBean"},"examples":{"success":{"$ref":"#/components/examples/TradingHistoryResponse"}}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"},"examples":{"invalidDateRange":{"value":{"code":40002,"message":"endTime must be greater than startTime"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"},"examples":{"unauthorized":{"$ref":"#/components/examples/UnauthorizedError"}}}}}},"x-codeSamples":[{"lang":"bash","label":"Query trading history","source":"curl --request POST \\\\\\n  --url https://gateway.zeromarketsapi.com/v1/listTradingHistory \\\\\\n  --header \'Authorization: Bearer <token>\' \\\\\\n  --header \'Content-Type: application/json\' \\\\\\n  --data \'{\\n    \\"accountList\\": [150000019],\\n    \\"startDate\\": \\"2024-07-01\\",\\n    \\"endDate\\": \\"2024-08-01\\",\\n    \\"pageNo\\": 1,\\n    \\"pageSize\\": 200\\n  }\'\\n"}]}},"/v1/listRebateHistory":{"post":{"summary":"Query rebate history by account list","operationId":"getRebateHistory","tags":["Trading"],"description":"Same request model as trading history; returns rebate calculations.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TradingRequest"},"examples":{"request":{"$ref":"#/components/examples/TradingRequestExample"}}}}},"responses":{"200":{"description":"Successfully returns the paged rebate history data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_PageBean"},"examples":{"success":{"$ref":"#/components/examples/RebateHistoryResponse"}}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"},"examples":{"invalidRange":{"value":{"code":40003,"message":"accountList cannot be empty"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"},"examples":{"unauthorized":{"$ref":"#/components/examples/UnauthorizedError"}}}}}},"x-codeSamples":[{"lang":"bash","label":"Query rebate history","source":"curl --request POST \\\\\\n  --url https://gateway.zeromarketsapi.com/v1/listRebateHistory \\\\\\n  --header \'Authorization: Bearer <token>\' \\\\\\n  --header \'Content-Type: application/json\' \\\\\\n  --data \'{\\n    \\"accountList\\": [150000019],\\n    \\"includeSubIB\\": false,\\n    \\"pageNo\\": 1,\\n    \\"pageSize\\": 200\\n  }\'\\n"}]}}},"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"Authorization"}},"examples":{"ReferralAccountsResponse":{"value":{"code":0,"message":"success","data":[{"userId":123,"account":"150000019","name":"Alice"},{"userId":124,"account":"150000021","name":"Bob"}]}},"TradingRequestExample":{"value":{"accountList":[150000019],"startDate":"2024-07-01","endDate":"2024-08-01","includeSubIB":false,"pageNo":1,"pageSize":200}},"TradingHistoryResponse":{"value":{"code":0,"message":"success","data":{"total":2,"list":[{"serverType":"MT4_Live","account":150000019,"symbol":"EURUSD","action":"buy","volume":0.1,"profit":120.45,"openTime":1721887593417,"closeTime":1721888999000},{"serverType":"MT5_Live","account":150000019,"symbol":"XAUUSD","action":"sell","volume":1,"profit":-45.2,"openTime":1721890000000,"closeTime":1721890600000}]}}},"UnauthorizedError":{"value":{"code":40100,"message":"Unauthorized"}},"RebateHistoryResponse":{"value":{"code":0,"message":"success","data":{"total":1,"list":[{"account":150000019,"symbol":"EURUSD","rebateAmount":52.3,"rebateCurrency":"USD","rebateDate":"2024-08-01"}]}}}},"schemas":{"TradeUserCache":{"type":"object","description":"Trading user cache information","properties":{"userId":{"type":"integer","format":"int64"},"account":{"type":"string"},"name":{"type":"string"}}},"PageBean":{"type":"object","description":"Paged data encapsulation","properties":{"total":{"type":"integer","format":"int64"},"list":{"type":"array","items":{"$ref":"#/components/schemas/TradingActivityView"}}}},"TradingRequest":{"type":"object","properties":{"accountList":{"type":"array","items":{"type":"integer","format":"int64"}},"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"startDate":{"type":"string"},"endDate":{"type":"string"},"ifOpenQuery":{"type":"boolean"},"includeSubIB":{"type":"boolean"},"pageNo":{"type":"integer","format":"int32","default":1},"pageSize":{"type":"integer","format":"int32","default":5000}}},"ApiResponse_List_TradeUserCache":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/TradeUserCache"}}}},"ApiResponse_PageBean":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PageBean"}}},"TradingActivityView":{"type":"object","description":"Unified MT4/MT5 trading activity view, including common fields and platform-specific fields","properties":{"serverType":{"type":"string","description":"Server type, value is \\"MT4_Live\\" or \\"MT5_Live\\"","example":"MT4 Live"},"account":{"type":"integer","format":"int64","description":"Account number"},"symbol":{"type":"string","description":"Trading symbol code"},"action":{"type":"string","description":"Action type (e.g., buy, sell)"},"volume":{"type":"number","format":"double","description":"Trade volume"},"profit":{"type":"number","format":"double","description":"Profit or loss amount"},"rcode":{"type":"integer","format":"int64","description":"Return code"},"openTime":{"type":"integer","format":"int64","description":"Open time (milliseconds timestamp)"},"closeTime":{"type":"integer","format":"int64","description":"Close time (milliseconds timestamp)"},"openPrice":{"type":"number","format":"double","description":"Open price"},"closePrice":{"type":"number","format":"double","description":"Close price"},"name":{"type":"string","description":"User name or name"},"swap":{"type":"number","format":"double","description":"Overnight interest"},"reason":{"type":"string","description":"Trading reason"},"clientRegulator":{"$ref":"#/components/schemas/Regulator"},"ticket":{"type":"integer","format":"int64","description":"Order ID (only for MT4)"},"commission":{"type":"number","format":"double","description":"Commission (only for MT4)"},"positionId":{"type":"integer","format":"int64","description":"Position ID (only for MT5)"},"openTimeStr":{"type":"string","description":"Open time (string format, only for MT5)"},"closeTimeStr":{"type":"string","description":"Close time (string format, only for MT5)"},"deals":{"type":"array","items":{"$ref":"#/components/schemas/Mt5DealView"},"description":"Deal details list (only for MT5)"}}},"ApiErrorResponse":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"details":{"type":"object","additionalProperties":true}}},"Regulator":{"type":"object","properties":{"regulatorName":{"type":"string","description":"Regulator name"},"country":{"type":"string","description":"Country or region"}}},"Mt5DealView":{"type":"object","properties":{"dealId":{"type":"integer","format":"int64","description":"Deal ID"},"time":{"type":"integer","format":"int64","description":"Deal time (milliseconds)"},"type":{"type":"string","description":"Deal type (e.g., buy, sell)"},"price":{"type":"number","format":"double","description":"Deal price"},"volume":{"type":"number","format":"double","description":"Deal volume"},"profit":{"type":"number","format":"double","description":"Deal profit or loss"}}}}}}}')}}]);